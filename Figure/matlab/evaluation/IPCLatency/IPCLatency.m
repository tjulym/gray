% function createfigure(XData1, YData1, XData2, YData2)
%CREATEFIGURE(XData1, YData1, XData2, YData2)
%  XDATA1:  line xdata
%  YDATA1:  line ydata
%  XDATA2:  line xdata
%  YDATA2:  line ydata

%  由 MATLAB 于 12-Nov-2020 16:50:23 自动生成

fontsize=18;
fontsize1=16;

% load xSN
% load ySN
% p1 = -136.8;  %(-138, -135.5)
% p2 = 412.4;  %(410.4, 414.4)
% XData1=xSN;
% YData1=ySN;

% Linear model Poly1:
%      f(x) = p1*x + p2
% Coefficients (with 95% confidence bounds):
%        p1 =      -208.3  (-255.1, -161.5)
%        p2 =       538.4  (473.7, 603.2)
load testxSN100
load testySN100
p1 = -208.3;
p2 = 538.4;
XData1=testxSN100;
YData1=testySN100;

x=1.0:0.01:2.2;
y=[];
for i = 1:length(x)
    temp = p1*x(i)+p2;
    y = [y temp];
end
XData2=x;
YData2=y;

% 创建 figure
figure1 = figure('Tag','Print CFTOOL to Figure',...
    'Color',[0.941176470588235 0.941176470588235 0.941176470588235],...
    'OuterPosition',[672 550 691 349]);

% 创建 axes
axes1 = axes('Tag','sftool surface axes','Parent',figure1);
hold(axes1,'on');

% 创建 line
line(XData1,YData1,'DisplayName','Latency vs. IPC','Parent',axes1,...
    'MarkerFaceColor',[0 0 0],...
    'MarkerEdgeColor',[0 0 0],...
    'MarkerSize',4,...
    'Marker','o',...
    'LineStyle','none');

% 创建 line
line(XData2,YData2,'DisplayName','Linear fitting','Parent',axes1,...
    'LineWidth',3,...
    'Color',[238 41 47]/255);

% 创建 ylabel
% ylabel('99% latency (ms)','Fontsize',fontsize);
ylabel('99%ile latency(ms)','Fontsize',fontsize);

% 创建 xlabel
xlabel('IPC','Fontsize',fontsize);

% 取消以下行的注释以保留坐标区的 X 范围
% xlim(axes1,[1.0505 2.1499]);
% 取消以下行的注释以保留坐标区的 Y 范围
% ylim(axes1,[74.25 684.75]);
% 取消以下行的注释以保留坐标区的 Z 范围
% zlim(axes1,[-1 1]);
box(axes1,'on');
grid(axes1,'on');
% 设置其余坐标区属性
set(axes1,'Colormap',...
    [0.2422 0.1504 0.6603;0.250153846153846 0.164484615384615 0.706253846153846;0.257323076923077 0.180769230769231 0.748438461538461;0.264107692307692 0.196276923076923 0.791184615384615;0.27 0.212446153846154 0.831615384615385;0.274553846153846 0.231076923076923 0.866123076923077;0.277776923076923 0.251807692307692 0.8943;0.279984615384615 0.273384615384615 0.917492307692308;0.281176923076923 0.295115384615385 0.936930769230769;0.281238461538462 0.316661538461538 0.9536;0.280184615384615 0.337946153846154 0.967738461538461;0.277446153846154 0.359146153846154 0.9795;0.272476923076923 0.380830769230769 0.988230769230769;0.2647 0.403 0.9935;0.252 0.425653846153846 0.997330769230769;0.231992307692308 0.448776923076923 0.999515384615385;0.208030769230769 0.472892307692308 0.993107692307692;0.187946153846154 0.495776923076923 0.985107692307692;0.181061538461538 0.517061538461538 0.974876923076923;0.177530769230769 0.5377 0.962;0.174807692307692 0.557753846153846 0.945407692307692;0.1634 0.577423076923077 0.930992307692308;0.150653846153846 0.596446153846154 0.917123076923077;0.144207692307692 0.614538461538462 0.904353846153846;0.134892307692308 0.632407692307692 0.894976923076923;0.121638461538462 0.650038461538462 0.885984615384615;0.1085 0.6669 0.8734;0.0917846153846154 0.6825 0.856561538461538;0.0641076923076924 0.696676923076923 0.836330769230769;0.0255692307692307 0.709561538461539 0.813761538461538;0.00273076923076923 0.721138461538462 0.789738461538462;0.00755384615384614 0.7317 0.7648;0.0441692307692307 0.741238461538462 0.738992307692308;0.0956230769230768 0.749869230769231 0.712461538461538;0.139015384615385 0.758007692307692 0.685446153846154;0.169738461538462 0.766276923076923 0.657684615384615;0.191630769230769 0.774807692307692 0.6285;0.212723076923077 0.783123076923077 0.597007692307692;0.240792307692308 0.790630769230769 0.562907692307692;0.2809 0.7964 0.5266;0.329138461538462 0.800138461538462 0.488361538461538;0.377592307692308 0.802523076923077 0.447076923076923;0.429015384615385 0.802846153846154 0.403815384615385;0.485407692307692 0.800476923076923 0.361830769230769;0.541576923076923 0.7962 0.320053846153846;0.596030769230769 0.790384615384615 0.277538461538461;0.649484615384615 0.782930769230769 0.237961538461539;0.701223076923077 0.774115384615385 0.204538461538462;0.750553846153846 0.764630769230769 0.1762;0.797153846153846 0.754823076923077 0.156446153846154;0.840530769230769 0.745361538461539 0.154876923076923;0.881161538461538 0.737053846153846 0.165346153846154;0.9184 0.7308 0.189;0.951661538461539 0.728407692307692 0.223038461538462;0.983092307692308 0.7326 0.244169230769231;0.996984615384615 0.750030769230769 0.231869230769231;0.996692307692308 0.772246153846154 0.215123076923077;0.994223076923077 0.795130769230769 0.198861538461538;0.987207692307692 0.818938461538462 0.185938461538461;0.976415384615385 0.843307692307692 0.174269230769231;0.966330769230769 0.867784615384615 0.162523076923077;0.960584615384615 0.892076923076923 0.152430769230769;0.959792307692308 0.915684615384615 0.140969230769231;0.9631 0.938792307692308 0.125407692307692;0.969346153846154 0.961346153846154 0.105638461538462;0.9769 0.9839 0.0805]);
set(gca,'XLim',[1.08 2.12]);
set(gca,'XTick', [1.1:0.2:2.1],'Fontsize',fontsize1);
set(gca,'YLim',[90 700]);
set(gca,'YTick',[100:100:700],'Fontsize',fontsize1);
% set(gca,'units','normalized','position',[0.2 0.24 0.77 0.72],'box','on') %400*300
set(gca,'units','normalized','position',[0.2 0.3 0.77 0.66],'box','on')
% set(gcf,'position',[200 200 400 300]) 
set(gcf,'position',[200 200 400 200]) 
% 创建 legend
legend1 = legend(axes1,'show');
% legend1=legend('xxx','xxx') 
set(legend1,'Interpreter','none','FontSize',16,...
    'EdgeColor',[0.15 0.15 0.15]);

